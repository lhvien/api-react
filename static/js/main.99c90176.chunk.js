(this.webpackJsonpdemoapi=this.webpackJsonpdemoapi||[]).push([[0],{38:function(e,t,n){e.exports=n(67)},43:function(e,t,n){},44:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),o=(n(43),n(3)),u=n(4),i=n(6),s=n(5),m=(n(44),n(2)),d=n(12),h=[{name:"Trang Ch\u1ee7",to:"/",exact:!0},{name:"Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m",to:"/list-products",exact:!1}],p=function(e){var t=e.label,n=e.to,a=e.activeOnlyWhenExact;return r.a.createElement(m.a,{path:n,exact:a,children:function(e){var a=e.match?"active":"";return r.a.createElement("li",{className:a},r.a.createElement(d.b,{to:n},t))}})},f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).showMenus=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return r.a.createElement(p,{key:t,label:e.name,to:e.to,activeOnlyWhenExact:e.exact})}))),t},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-primary"},r.a.createElement("div",{class:"container"},r.a.createElement("a",{className:"navbar-brand",href:"./"},"React - Call API"),r.a.createElement("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"}),r.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavId"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0 menu"},this.showMenus(h))))))}}]),n}(a.Component),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onDelete=function(t){confirm("Ch\u1eafc x\xf3a hemm ?")&&(console.log(t),e.props.onDeleteItem(t))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.product,n=this.props.index,a=t.status?"C\xf2n h\xe0ng":"H\u1ebft h\xe0ng",c=t.status?"text-primary":"text-warning";return r.a.createElement("tr",null,r.a.createElement("td",{scope:"row"},n+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.price),r.a.createElement("td",null,r.a.createElement("span",{className:"label ".concat(c)},a)),r.a.createElement("td",null,r.a.createElement(d.b,{to:"/product/".concat(t.id,"/edit"),type:"button",class:"btn btn-success mr-2"},r.a.createElement("i",{class:"fa fa-edit "}),"   S\u1eeda"),r.a.createElement("button",{type:"button",class:"btn btn-warning",onClick:function(){return e.onDelete(t.id)}},"X\xf3a ",r.a.createElement("i",{class:"fa fa-trash"}))))}}]),n}(a.Component),E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{class:"table table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"STT"),r.a.createElement("th",null,"M\xe3 SP"),r.a.createElement("th",null,"T\xean"),r.a.createElement("th",null,"Gi\xe1"),r.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"),r.a.createElement("th",null,"H\xe0nh \u0111\u1ed9ng"))),r.a.createElement("tbody",null,this.props.children)))}}]),n}(a.Component),v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Trang chu"))}}]),n}(a.Component),g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Kh\xf4ng t\xecm th\u1ea5y trang"))}}]),n}(a.Component),y=n(15),O=n(21),j=n.n(O),x="https://5ed712acc2ca2300162c6c1b.mockapi.io/apireact";function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;return j()({method:t,url:" ".concat(x,"/").concat(e," "),data:n}).catch((function(e){console.log(e)}))}var C=n(17),k=[],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,n=t.id;switch(t.type){case"FETCH_PRODUCTS":return e=t.products,Object(C.a)(e);case"DELETE_PRODUCT":var a=e.filter((function(e){return e.id!==n}));return console.log(e),Object(C.a)(a);case"ADD_PRODUCT":return e.push(t.product),Object(C.a)(e);default:return Object(C.a)(e)}},w=function(e){return{type:"FETCH_PRODUCTS",products:e}},N=function(e){return{type:"DELETE_PRODUCT",id:e}},P=function(e){return{type:"ADD_PRODUCT",product:e}},S=function(e){return{type:"GET_PRODUCT",product:e}},_=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onDelete=function(t){e.props.onDeleteItemRedux(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;T("sanpham","GET",null).then((function(t){e.props.fetchAllProducts()}))}},{key:"showProducts",value:function(e){var t=this,n=null;return e.length>0&&(n=e.map((function(e,n){return r.a.createElement(b,{key:n,product:e,index:n,onDeleteItem:t.onDelete})}))),n}},{key:"render",value:function(){var e=this.props.products;return r.a.createElement("div",null,r.a.createElement(d.b,{to:"/product/add",class:"btn btn-info mt-2 mb-2"},r.a.createElement("i",{class:"fa fa-plus","aria-hidden":"true"})," Th\xeam s\u1ea3n ph\u1ea9m"),r.a.createElement(E,null,this.showProducts(e)))}}]),n}(a.Component),I=Object(y.b)((function(e){return{products:e.products}}),(function(e,t){return{fetchAllProducts:function(){e((function(e){return T("sanpham","GET",null).then((function(t){e(w(t.data))}))}))},onDeleteItemRedux:function(t){e(function(e){return function(t){return T("sanpham/".concat(e),"DELETE",null).then((function(n){t(N(e))}))}}(t))}}}))(_),R=n(36),U=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).isChange=function(e){var t=e.target,n=t.name,r="checkbox"===t.type?t.checked:t.value;a.setState(Object(R.a)({},n,r))},a.onSave=function(e){e.preventDefault();var t=a.state,n=t.id,r=t.txtName,c=t.txtPrice,l=t.cbStatus,o=a.props.history;if(n)console.log("this is update...."),T("sanpham/".concat(n),"PUT",{name:r,price:c,status:l}).then((function(e){o.goBack()}));else{var u={};u.name=r,u.price=c,u.status=l,a.props.add(u),o.goBack()}},a.state={id:"",txtName:"",txtPrice:"",cbStatus:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;if(t){var n=t.params.id;console.log(n),this.props.getProduct(n),T("sanpham/".concat(n," "),"GET",null).then((function(t){var n=t.data;console.log(t.data),e.setState({id:n.id,txtName:n.name,txtPrice:n.price,cbStatus:n.status})}))}}},{key:"cancelButton",value:function(){this.props.history.push("/list-products")}},{key:"render",value:function(){var e=this,t=this.state,n=t.txtName,a=t.txtPrice,c=t.cbStatus;return r.a.createElement("div",{className:"col-sm-10 "},r.a.createElement("div",{class:"offset-sm-2 mt-5 card border-primary"},r.a.createElement("div",{class:"card-body"},r.a.createElement("form",{onSubmit:this.onSave},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:""},"T\xean s\u1ea3n ph\u1ea9m"),r.a.createElement("input",{value:n,onChange:function(t){return e.isChange(t)},type:"text",name:"txtName",id:"",class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:""},"Gi\xe1"),r.a.createElement("input",{value:a,onChange:function(t){return e.isChange(t)},type:"number",name:"txtPrice",id:"",class:"form-control"})),r.a.createElement("label",{for:""},"Tr\u1ea1ng th\xe1i"),r.a.createElement("div",{class:"checkbox"},r.a.createElement("label",null,r.a.createElement("input",{value:c,checked:c,onChange:function(t){return e.isChange(t)},name:"cbStatus",type:"checkbox"}),"C\xf2n h\xe0ng")),r.a.createElement("button",{onClick:function(){return e.cancelButton()},className:" mr-2 btn btn-danger"}," H\u1ee7y"),r.a.createElement("button",{type:"submit",class:"btn btn-primary"},"L\u01b0u l\u1ea1i ",r.a.createElement("span",{class:"badge badge-primary"}))))))}}]),n}(a.Component),A=Object(y.b)((function(e){return{products:e.products,edit:e.editItem}}),(function(e,t){return{add:function(t){var n;e((n=t,function(e){return T("sanpham","POST",n).then((function(t){e(P(t.data))}))}))},getProduct:function(t){e(function(e){return function(t){return T("sanpham/".concat(e," "),"GET",null).then((function(e){t(S(e.data))}))}}(t))}}}))(U),G=[{path:"/",exact:!0,main:function(){return r.a.createElement(v,null)}},{path:"/product/add",exact:!1,main:function(e){var t=e.history;return r.a.createElement(A,{history:t})}},{path:"/product/:id/edit",exact:!1,main:function(e){var t=e.match,n=e.history;return r.a.createElement(A,{match:t,history:n})}},{path:"/list-products",exact:!1,main:function(){return r.a.createElement(I,null)}},{path:"",exact:!1,main:function(){return r.a.createElement(g,null)}}],M=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).showMenus=function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return r.a.createElement(m.a,{key:t,path:e.path,exact:e.exact,component:e.main})}))),r.a.createElement(m.c,null," ",t)},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{className:"col-sm-12 col-xs-12"},this.showMenus(G))))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(13),L=Object(B.c)({products:D}),H=n(37),X=Object(B.d)(L,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(B.a)(H.a));l.a.render(r.a.createElement(y.a,{store:X},r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.99c90176.chunk.js.map